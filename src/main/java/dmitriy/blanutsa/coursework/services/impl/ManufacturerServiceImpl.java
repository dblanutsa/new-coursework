package dmitriy.blanutsa.coursework.services.impl;import dmitriy.blanutsa.coursework.controllers.dto.ManufacturerRequest;import dmitriy.blanutsa.coursework.persistance.models.Manufacturer;import dmitriy.blanutsa.coursework.persistance.repositories.ManufacturerRepository;import dmitriy.blanutsa.coursework.services.ManufacturerService;import org.springframework.stereotype.Service;import org.springframework.ui.Model;import org.springframework.validation.BindingResult;import javax.transaction.Transactional;@Servicepublic class ManufacturerServiceImpl implements ManufacturerService {    private final ManufacturerRepository manufacturerRepository;    public ManufacturerServiceImpl(ManufacturerRepository manufacturerRepository) {        this.manufacturerRepository = manufacturerRepository;    }    @Override    public String getList(Model model) {        model.addAttribute("manufactures", manufacturerRepository.findAll());        return "manufactures";    }    @Override    @Transactional    public String add(ManufacturerRequest request, BindingResult result) {        if (result.hasErrors()) {            return "addManufacturer";        }        if (manufacturerRepository.findByName(request.getName()) != null) {            result.rejectValue("name", "error.manufacturer", "Manufacturer with this name already exists!!!");            return "addManufacturer";        }        Manufacturer manufacturer = new Manufacturer();        manufacturer.setName(request.getName());        manufacturer.setDescription(request.getDescription());        manufacturerRepository.save(manufacturer);        return "redirect:/manufactures";    }}